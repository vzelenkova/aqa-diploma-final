# Чек-лист автоматизированного тестирования

## Общие требования
- [x] Проект успешно собирается через Gradle.
- [x] Все необходимые зависимости (Selenide, RestAssured, Allure, драйверы БД) подключены.
- [x] Docker Compose корректно поднимает все сервисы: MySQL, PostgreSQL, эмулятор банковских сервисов и SUT.
- [x] Скрипты инициализации БД (`mysql.sql`, `pgsql.sql`) выполняются при старте контейнеров.
- [x] Тесты запускаются для обеих СУБД (MySQL и PostgreSQL) через переменную окружения `DB_TYPE`.

## UI-тесты
- [x] Проверка валидации пустых полей формы оплаты.
- [x] Проверка валидации неверного месяца карты.
- [x] Проверка валидации прошедшего года карты.
- [x] Проверка успешной покупки тура по одобренной карте.
- [x] Проверка покупки тура в кредит по одобренной карте.
- [ ] **БАГ**: Проверка отклонения покупки по недействительной карте (ожидается "Ошибка! Банк отказал...", фактически "Операция одобрена Банком").
- [x] Генерация скриншотов для Allure при падении тестов.

## API-тесты
- [x] Проверка успешной оплаты по одобренной карте (HTTP 200, статус "APPROVED").
- [x] Проверка отклоненной оплаты по недействительной карте (HTTP 200, статус "DECLINED").
- [x] Проверка успешного кредита по одобренной карте (HTTP 200, статус "APPROVED").
- [x] Проверка отклоненного кредита по недействительной карте (HTTP 200, статус "DECLINED").
- [x] Проверка ошибки при пустом теле запроса (HTTP 500, сообщение "400 Bad Request").
- [x] Проверка ошибки при некорректном номере карты (HTTP 500, сообщение "400 Bad Request").
- [x] Проверка связности таблиц `payment_entity` и `order_entity`.
- [ ] **БАГ**: Проверка связности таблиц `credit_request_entity` и `order_entity` (ожидается совпадение ID, фактически `order_entity.credit_id` = `null`).
- [x] Очистка базы данных перед каждым тестом.

## Отчетность
- [x] Результаты тестов генерируются в Allure отчёте.
- [x] Команды для запуска Allure Report и Allure Serve прописаны в README.md.
- [x] Все тесты интегрированы в JUnit 5 и запускаются через Gradle.
